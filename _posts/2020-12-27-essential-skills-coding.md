---
layout: post
title:  "Những kĩ năng cần học cùng khi viết dòng code đầu tiên"
---


Chào tất cả các bạn bước đầu đi trên con đường làm việc với *code*, dù bạn có muốn trở thành là lập trình viên, nhà phát triển phần mềm, chuyên gia phân tích dữ liệu hay kĩ sư thiết kế vi mạch số (dùng HDL)!

Trước khi viết bài này, mình có tìm kiếm qua với từ khóa "học lập trình bắt đầu từ đâu". 
Hầu hết các kết quả đều chỉ những việc phải làm khi bắt đầu học lập trình: xác định mục tiêu, chọn ngôn ngữ lập trình , làm việc nhóm, khả năng tự học, cấu trúc dữ liệu và giải thuật...
Những điều trên là những điều bắt buộc để có thể có thể thành công trong công việc của những người làm kĩ thuật nói chung và có liên quan đến code nói riêng. 
Dẫu quan trọng là vậy, những điều trên là những thứ phức tạp và thực sự cần rất nhiều thời gian để học hỏi và thực hành với code. 
Song song với việc học tập những kĩ năng cao cấp và quan trọng trên, bạn phải sống chung với code của mình và cả những người khác một cách vui vẻ đã. Bài viết này sẽ giới thiệu đến các bạn những kĩ năng mà bạn tốt nhất là nên biết ngay khi bắt đầu viết những dòng code đầu tiên. 
Thành thạo những kĩ năng này giúp bạn sống với code của mình vui vẻ hơn, hoàn thành mọi thứ nhanh hơn và chuyển giao cũng như khoe thành quả của mình dễ hơn. Tất cả những kĩ năng mình nêu ra sau đây thì đến khi đi làm người ta cũng bắt các bạn học thôi, nên là biết sớm thì sướng sớm!   

Để mọi thứ rõ ràng thì mình cũng chỉ **mới bắt đầu học** những thứ này không lâu trước đây, không phải là chuyên gia hay lập trình viên trình độ cao. Giới thiệu đến các bạn vì mình thấy những thứ này *dễ học* hơn những kĩ năng trừu tượng mà gần như bài viết nào về lập trình cũng nhắc đến và sẽ có lợi ngay tức khắc đối với công cuộc viết code của các bạn. Mình sẽ không đi sâu vào chi tiết vì mình không biết chi tiết và việc đó cũng là thừa, bài viết này chỉ nhằm giới thiệu 2 thuật ngữ **Clean Code** và **Git** bởi vì lúc học hay thậm chí gần hết học đại học vẫn chẳng ai dạy mình 2 thứ này cả, nên có lẽ sẽ có nhiều bạn giống mình. 

## Clean Code - Viết code rõ ràng, dễ đọc 
Kĩ năng đầu tiên mà tất cả mọi người làm việc với code, bất kể là ngôn ngữ gì `C++, Java, Python, PHP, HTML...` hoặc `VHDL, Verilog HDL` hay thậm chí những thứ "ở dạng code" như `Latex` phải biết chính là "Clean Code", tạm dịch là viết code rõ ràng dễ đọc và có cấu trúc khoa học.  

Khi mới lập trình chúng ta thường hay dùng những cái tên vô nghĩa nhưng ngắn gọn cho các biến của mình như `a`, `b`, `c`, `x`, `y` hoặc là những tên có ý nghĩa quá chung chung `input`, `output`, `value`.... Thói quen này sẽ dẫn đến vấn đề khi chương trình của chúng ta có nhiều dòng code, bạn sẽ chẳng biết các biến đó có vai trò gì. Và câu chuyện sẽ trở nên tồi tệ hơn nhiều nếu các tên hàm được đặt theo cách này, mặc dù chúng ta thường không làm thế với các hàm. Hãy tưởng tượng rằng khi chương trình trở nên lớn hơn với cả trăm dòng code trong 1 file thì đặt tên biến theo cách này sẽ làm mọi thứ rối tung hết lên, thậm chí nghĩ ra tên biến kiểu tùy tiện này cũng tốn thời gian không kém. 

Trong cuốn "Clean Code", tác giả đã nói rất rõ về vấn đề này. Việc đặt tên các phần tử trong code của bạn không rõ ràng và có tính gợi nhớ thì chính bạn cũng chẳng thể nào biết được code của mình nó hoạt động như nào, và khi có lỗi xảy ra, việc sửa lỗi sẽ thành ác mộng. Ngay cả khi bạn có bộ não siêu trí nhớ, bạn nhớ rõ từng chữ mình viết và không bao giờ quên, thì đồng thầy giáo, bạn cùng lớp, đồng nghiệp, người hướng dẫn và sếp bạn không hiểu được code của bạn khi không có bạn giải thích bên cạnh. Rõ ràng chẳng ai muốn làm việc với code như vậy cả. 

"Clean Code" tất nhiên không chỉ dừng lại ở việc đặt tên, sau khi đọc (chưa hết) cuốn sách trên, mình có thể tổng hợp một số thứ cần phải làm để những thứ bạn viết ra là rõ ràng, dễ theo dõi với tất cả mọi người:

* Tất cả mọi thứ phải được viết bằng tiếng Anh bởi vì không phải ngôn ngữ nào cũng được hỗ trợ trong bảng mã cơ bản của các trình biên dịch hay đọc chữ. Mọi thứ phải được hiển thị đúng, rõ ràng ngay cả trên những máy tính cũ mèm ở quán net gần nhà bạn hơn 10 năm trước bằng Notepad trên Windows Xp. Ngoài ra, bạn cũng có khi phải chia sẻ nó với tất cả mọi người trên Trái Đất này ngay lập tức để không vuột mất cơ hội. 

* Đặt tên mọi thứ hợp lý kể cả khi đó là những tên dài. Tên biến, tên hàm phải thể hiện được vai trò của chúng trong quá trình biên dịch hay thực thi của code. Tên biến, tên lớp, tên module phải là danh từ, tên hàm hay phương thức phải là động từ. Ngay cả khi các phần tử đảm nhận những vai trò gần giống nhau thì tên của chúng cũng phải giúp phân biệt chúng một cách rõ ràng, ví dụ như `CongHaiSoThuc` lấy đầu vào là 2 số thực và trả về tổng của chúng là một số thực, và `CongHaiSoPhuc` cộng 2 số phức. 

* Tổ chức hàm rõ ràng. Công việc mà một hàm thực hiện phải được mô tả bằng một câu đơn duy nhất, ngay cả khi việc đó yêu cầu nhiều bước để thực hiện. Ví dụ: `CongHaiSoPhuc` phía trên chỉ nên thực hiện việc cộng hai số phức, bằng việc cộng phần thực và phần ảo của chúng, ngoài ra không nên thực hiện việc khác. Các tên hàm như `CongVaTruHaiSoPhuc`, `CongPhanThucVaPhanAo` dù có thể hiện đúng việc các hàm đó làm thì cũng không phải là các cách tổ chức hợp lý. Chiều dài các hàm không nên quá dài, nếu một hàm quá dài, hãy chia các bước của nó thành các hàm con đến khi các hàm con này tương đối ngắn gọn (đối với mình là 20 dòng) mà vẫn đảm bảo nguyên tắc *1 câu*.  

* Tổ chức các file, module hợp lý. Mỗi file hay module chỉ nên chứa những hàm hướng tới một mục tiêu chung, không nên đặt tất các dòng code của trong một file duy nhất chẳng ai muốn đọc một file dài cả ngàn dòng cả. Riêng với mình thì 500 dòng đã là quá dài. Việc tổ chức các phần tử vào file, module hợp lý và đặt vào trong thư mục phù hợp sẽ giống như một cách "tự giải thích" (self-documenting) của code mà không cần phải viết một dòng tài liệu nào, mọi người có kinh nghiệm sẽ biết code bao gồm những thứ gì và cái gì nằm ở đâu. Nguyên tắc trước và cái này thường là kết quả của bước thiết kế kiến trúc của sản phẩm được thực hiện hợp lý, nhưng ngay cả khi bạn chưa có kinh nghiệm thiết kế thì chúng này cũng vẫn giúp bạn có mọi thứ được tổ chức dễ hiểu. 

![Nguồn: Amazon](https://images-na.ssl-images-amazon.com/images/I/51b7XbfMIIL.jpg)

Phần trên nói về vấn đề hiểu code, định dạng (format) code sao cho gọn gàng để mọi người nhìn vào muốn đọc ngay cũng là cực kì quan trọng. Phần trình bày code này dễ hơn nhiều so với phần trên, bởi vì các trình soạn thảo code hiện đại đều hỗ trợ bạn tận răng từ cảnh báo khi vi phạm nguyên tắc hay thậm chí định dạng lại giúp code của bạn dễ nhìn hơn theo một bộ quy tắc mà bạn định nghĩa. Phần định dạng này thường sẽ có quy chuẩn chung được mỗi công ty hoặc nhóm áp dụng, để có thể dễ dàng làm việc nhóm với nhau qua Git. Một số nguyên tắc chính trong việc định dạng code áp dụng đối với mọi ngôn ngữ lập trình: 
* Những khai báo biến, thư viện phải được đặt ở đầu file ngay cả khi ngôn ngữ hỗ trợ khai báo ngay trước khi sử dụng. Các thư viện mặc định phải được khai báo sử dụng trước tiên, sau đó là các thư viện phổ biến trong cộng đồng và cuối cùng là các thư viện của bạn hay công ty bạn,  các nhóm nên được phân cách rõ ràng. Ví dụ như trong Python, import: `os`, `time` rồi đến `numpy`, `sklearn`, `pytorch`, `tensorflow` cuối cùng là các hàm bên trong các file, module của bạn. Chỉ khai báo những thứ sẽ được dùng, không khai báo thừa. 
* Một dòng code không nên quá dài, bao nhiêu thì tùy bạn. Một dòng code dài thực sự khó theo dõi, viết mọi thứ ngắn gọn, bẻ dòng code dài ra thành từng phần nhỏ hoặc gói thành một hàm. Cố gắng tuân theo nguyên tắc này để code nhìn đỡ sợ. 
* Viết tên các phần tử cùng loại nên được viết theo nguyên tắc nhất quán. `snake_case` là nguyên tắc viết mọi thứ bằng chữ cái thường và ngăn cách các từ bằng dấu gạch dưới, `cong_hai_so_phuc`. `camelCase` hay `CamelCase` là cách viết các từ liền nhau nhưng ký tự đầu của các chữ từ chữ thứ 2 trở đi được viết hoa còn kí tự đầu tiên của cả tên có thể là hoa hay thường , `congHaiSoPhuc` hay `CongHaiSoPhuc` đều được. Các cách viết tên này thường được sử dụng phối hợp với nhau, ví dụ trong chuẩn PEP8 của Python dùng `CamelCase` cho định nghĩa lớp, `snake_case` cho biến, hàm, module. 
* Sử dụng các thụt đầu dòng, các dòng trống một cách hợp lý và nhất quán để code dễ nhìn. Ví dụ: luôn xuống dòng sau khi khai báo tên hàm, các hàm độc lập phải cách nhau 2 dòng, 2 dòng code bên trong 1 hàm chỉ cách nhau nhiều nhất 1 dòng trống, nội dung hàm thụt vào một khoảng so với khai báo tên hàm,  các hàm bên trong khai báo lớp thụt vào so với khai báo lớp. Sự nhất quán này sẽ giúp code trông gọn gàng, dễ theo dõi hơn. 

Những gì mình giới thiệu trên đây chỉ là phần cơ bản nhất nhưng dễ dàng áp dụng khi các bạn viết những dòng code đầu tiên để có "clean code". Sẽ cần nhiều thời gian để bạn có thể đạt đến mức "clean" nhưng ngay sau khi áp dụng những nguyên tắc này bạn sẽ thấy code của mình khoa học, trông giống "pro" hơn nhiều. 

## Git - Làm việc với code dễ dàng hơn 
Sau khi có code gọn gàng dễ nhìn, bạn sẽ cần quan tâm đến việc theo dõi những thay đổi mình đã thực hiện lên code của mình hoặc là làm việc với nhiều người khác một cách thuận tiện và rõ ràng hơn. Mình muốn nói ở đến Git, công cụ quản lý phiên bản của "gần như mọi thứ", chứ không phải Github hay Gitlab nơi mà khi không tìm thấy code thì chúng ta sẽ khóc trong hoảng loạn. 


Git là một công cụ quản lý phiên bản thụ động, tức là khi nào chúng ta bảo nó lưu lại code tại thời điểm nào nó sẽ lưu lại trạng thái của code tại thời điểm đó, sau này chúng ta có thể quay lại thời điểm đó bất kì lúc nào, so sánh những thay đổi đã thực hiện trong suốt quá trình viết ra sản phẩm của mình. Git có thể được áp dụng để lưu lại trạng thái cho gần như tất cả mọi loại định dạng dữ liệu, nhưng những công cụ được lập trình để hoạt động tốt nhất với những dữ liệu có có gốc là text: code phần mềm, code phần cứng (Verilog HDL, VHDL), code văn bản (Latex). 


Hãy tưởng tượng như này, bạn bắt đầu một dự án phần mềm một mình cho một ý tưởng đơn giản và bạn đã có một phiên bản đầu tiên chạy được tuy không nhanh lắm. Bạn gõ thêm nhiều dòng code với mục đích tối ưu tốc độ và độ chính xác của nó, và không biết do cái quái gì code của bạn lần này không chịu chạy luôn. Do có quá nhiều dòng code đã được sửa, đã được thêm vào bạn không còn nhớ bản chạy được của mình nó trông ra sao nữa? Bạn sẽ phải làm lại từ đầu nhưng vẫn chưa chắc có thể tạo ra bản giống như lần trước. Điều này sẽ không xảy ra nếu bạn sử dụng Git và *commit* phiên bản chạy được đó của bạn vào lịch sử thay đổi. Bạn có thể dễ dàng đối chiếu sự thay đổi giữa các commit với nhau và với những file code hiện tại. Bạn có thể quay lại một trong các commit của mình bất kì lúc nào và bắt đầu lại từ đó mà không cần nghĩ nhiều. Tất nhiên là bạn phải commit khi nào bạn thấy cần, vì Git không tự động làm điều đó cho bạn. Rõ ràng bạn có một lựa chọn khác đó là mỗi lần bạn thấy đủ thì bạn copy thư mục chứa code của mình và đặt cho nó một cái tên, nhưng rõ ràng là không hay nếu bạn có hàng chục, hay thậm chí hàng trăm thư mục. 

![Git flow (nguồn Medium)](https://miro.medium.com/max/823/1*uUpzVOpdFw5V-tJ_YvgFmA.png)

Trên đây chỉ là trường hợp cơ bản nhất mà Git có thể giúp chúng ta quản lý code một cách an toàn và đơn giản. Một thư mục và các thư mục con của nó mà được theo dõi bởi Git được gọi là một Git repository. Mình sẽ không giới thiệu các câu lệnh hay thao tác cụ thể, các bạn có thể google. Sau khi đã có một repository, chúng ta có thể thực hiện: 

* Committing: Chủ động lưu lại trạng thái của tất cả các file được theo dõi bên trong thư mục gốc của Git, hay gọi là Git repository. Ngay khi tạo, Git không chủ động theo dõi bất kì file nào bên trong thư mục, bạn phải `add` các file bạn muốn quản lý rồi `commit` lần đầu tiên để nó theo dõi. Khi bạn thấy cần phải lưu lại trạng thái của một phần hay toàn bộ các file đã được chỉnh sửa kể từ lần cuối `commit`, bạn lại `add` các file này rồi `commit`. Các trạng thái đã được lưu lại sẽ có thể được truy cập lại bất kì lúc nào để tham chiếu hoặc bắt đầu lại công việc từ đó. Cực kì lợi hại. Xung quanh cái commit này còn có nhiều thứ khác như: `stash`, `rebase`, `reset`, `revert`... Khi làm việc bạn sẽ tìm hiểu dần dần. 

* Branching: tạo ra các "nhánh" của code, với "gốc" là commit tại thời điểm tạo. Các nhánh này có chung "gốc" có thể dùng để phát triển các tính năng song song với nhau rồi sau đó hợp lại (merge) tạo thành một nhánh thống nhất với những thay đổi được tổng hợp từ tất cả các nhánh. Khi chuyển từ nhánh này sang nhánh kia, nội dung của các file code sẽ được chuyển đổi tương ứng mà không đè lên nhau cho đến khi các nhánh được merge lại. Việc chia nhánh này rất có lợi khi phát triển song song nhiều phần của code, hoặc là tạo ra một nhánh phát trển như trên hình trên. Trên mỗi nhánh đều có thể thực hiện `commit`, bản thân việc hợp 2 nhánh cũng là một `commit`. Làm việc với nhánh chúng ta thường dùng các thao tác: `checkout` để chuyển nhánh, `branch` để tạo hoặc xóa nhánh, `merge` để hợp nhánh. 

* Pulling/Pushing: Đẩy những thay đổi trong repository trên máy tính của bạn lên một server chung nào đó hoặc kéo những thay đổi từ đó về. Điều này phục vụ cho việc làm việc nhóm với người khác và lưu trữ cũng như theo dõi, quản lý các vấn đề ngoài Git trong quá trình viết code. Các server có thể là các dịch vụ online như Github, Gitlab, Bitbucket...hay là một server nội bộ nào đó. Khi một repository được tạo, nó có thể được đăng kí với 1 luồng "remote" để đẩy lên hoặc kéo về. Mọi người trong team khi làm xong việc của mình tại nhánh của mình thì đẩy (`push`) nhánh đó lên trên remote repository. Những thay đổi này được xem xét rồi `merge` vào branch chính (thường đặt tên là `master` nhưng bạn thích đặt nó kiểu gì cũng được). Một người khác muốn phát triển tính năng mới dựa vào cập nhật mới thì kéo (`pull`) những thay đổi mới về rồi tạo một nhánh với tên khác và làm việc. `clone` một repository trên server chính là chúng ta sao chép toàn bộ hoặc một phần của repository đó về máy tính của mình cùng với những thiết đặt. Thao tác này được thực hiện khi một người mới bước vào làm việc với một repository có từ trước. Với việc làm việc nhóm qua Git, đặt tên và định dạng code có quy tắc chung là bắt buộc, nếu không sự xung đột (`conflict`) sẽ trở nên nghiêm trọng và rối rắm, khiến cho việc merge các nhánh rất khó khăn. 


Các dịch vụ như Github, Gitlab hiện tại đang cung cấp thêm rất nhiều công cụ khác để chúng ta có thể làm việc nhóm hay thậm chí quản lý dự án trên đó. Có thể kể ra: comment cho từng commit, blame các dòng code khó hiểu, tạo các issues để báo lỗi hay yêu cầu tính năng hoặc cải tiến, thảo luận mọi thứ trước khi merge các nhánh, tạo thêm các trang thông tin (Wikipage) cho dự án. Ngoài ra còn nhiều công cụ khác giúp quá trình phát triển phần mềm trở nên chuyên nghiệp, nhanh chóng và an toàn hơn nhiều nhưng nằm ngoài Git. Để học về Git, các bạn có thể tham khảo [Atlassian](https://www.atlassian.com/git/tutorials) có ví dụ cụ thể và cực kì trực quan. Gần như chắc chắn bạn không thể phát triển các dự án phần mềm từ cỡ trung bình trở lên nếu không biết dùng Git dù cho làm việc nhóm hay một mình. 


## Lời Kết 
Bài viết này nêu ra cho các bạn chuẩn bị học code những điều đơn giản, dễ học nhất trên con đường làm việc với code. Nếu ví việc bạn đang viết code như việc bạn đang vẽ tranh thì **Clean Code** giống như việc tổ chức bảng màu, cọ vẽ và khung tranh của bạn, còn **Git** giống như những tờ giấy vẽ trong suốt bạn có thể tẩy xóa dễ dàng và chồng nhiều tờ lên nhau để tạo bức tranh hoàn chỉnh. 